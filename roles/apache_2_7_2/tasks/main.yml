---
# tasks for vbotka.apache

- name: Include OS vars.
  ansible.builtin.import_tasks: vars.yml
  tags: [apache_vars, always]

- name: Display variables.
  ansible.builtin.import_tasks: debug.yml
  when: apache_debug | bool
  tags: apache_debug

- name: Sanity.
  ansible.builtin.import_tasks: sanity.yml
  when: apache_sanity | bool
  tags: apache_sanity

- name: Install packages.
  ansible.builtin.import_tasks: pkg.yml
  when: apache_install | bool
  tags: apache_pkg

- name: Copy sample files.
  ansible.builtin.import_tasks: samples.yml
  when: apache_samples | bool
  tags: apache_samples

- name: Configure httpd.conf
  ansible.builtin.import_tasks: httpd.yml
  tags: apache_httpd

- name: Configure Includes
  ansible.builtin.import_tasks: httpd-dirs.yml
  tags: apache_httpd_dirs

- name: Configure LoadModule in httpd.conf
  ansible.builtin.import_tasks: httpd-modules.yml
  tags: apache_httpd_modules

- name: Configure PHP in Includes
  ansible.builtin.import_tasks: httpd-php.yml
  when: apache_php | bool
  tags: apache_httpd_php

- name: Configure aliases in httpd.conf
  ansible.builtin.import_tasks: httpd-alias.yml
  tags: apache_httpd_alias

- name: Configure SSL.
  ansible.builtin.import_tasks: httpd-ssl.yml
  when: apache_ssl | bool
  tags: apache_httpd_ssl

- name: Configure virtual hosts.
  ansible.builtin.import_tasks: httpd-vhosts.yml
  tags: apache_httpd_vhosts

- name: Configure virtual hosts from vars/conf.d
  ansible.builtin.import_tasks: httpd-confd.yml
  when: apache_confd | bool
  tags: apache_httpd_confd

- name: Configure service.
  ansible.builtin.import_tasks: service.yml
  tags: apache_service

# EOF
